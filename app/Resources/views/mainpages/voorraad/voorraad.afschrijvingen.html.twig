{% extends 'mainpages/mainpages.layout.html.twig' %}

{% block title %}Voorraad | Afschrijving{% endblock %}
{% block active1 %}active{% endblock %}


{% block body %}

  {#Laat eventueel succes zien op de pagina#}
  {% for msg in app.session.flashBag.get('success') %}
    <div class="alert alert-success alert-dismissible fade show">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>SUCCES!</strong> {{ msg }}
    </div>
  {% endfor %}
  {#Laat eventuele errors zien op de pagina#}
  {% for msg in app.session.flashBag.get('error') %}
    <div class="alert alert-danger alert-dismissible fade show">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>ERROR!</strong> {{ msg }}
    </div>
  {% endfor %}

  <h5>Afschrijvingen:</h5>

  <h5 class="text-success">Nieuwe afschrijving:</h5>
  {{ form_start(form , {attr: {novalidate: 'novalidate'}}) }}
  {{ form_widget(form) }}
  <button type="submit" class="btn btn-primary btn-sm mb-5"><i class="fas fa-edit"></i> Afschrijven</button>
  {{ form_end(form) }}

  <hr>
  <h5 class="text-success">Oude afschrijvingen:</h5>
  <table class="table table-hover table-sm ">
    <thead>
    <tr>
      <th style="width: 20%">Categorie</th>
      <th style="width: 30%">Productnaam</th>
      <th style="width: 10%">Aantal</th>
      <th style="width: 10%">Reden</th>
      <th style="width: 8%">Extra info</th>
    </tr>
    </thead>
    <tbody>
    {% for afschrijving in afschrijvingen %}
      <tr>
        <td>{{ afschrijving.product.categorie }}</td>
        <td>{{ afschrijving.product.productnaam }}{{ afschrijving.product.smaak }}</td>
        <td>{{ afschrijving.aantal }} </td>
        <td>{{ afschrijving.reden }}</td>
        <td>{{ afschrijving.redenText }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock %}